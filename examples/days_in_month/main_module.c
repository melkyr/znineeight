/* Generated by RetroZig bootstrap compiler */
#include "zig_runtime.h"

#include "main.h"
#include "std.h"

static int isLeapYear(unsigned int year) {
    return (year % 4 == 0) && (year % 100 != 0 || year % 400 == 0);
}

static unsigned char daysInMonth(unsigned char month, unsigned int year) {
    int d;
    switch (month) {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12:
            d = 31;
            break;
        case 4:
        case 6:
        case 9:
        case 11:
            d = 30;
            break;
        case 2:
            {
                if (isLeapYear(year)) {
                    d = 29;
                } else {
                    d = 28;
                }
            }
            break;
        default:
            d = 0;
            break;
    }
    return __bootstrap_u8_from_i32(d);
}

int main(int argc, char* argv[]) {
    int year;
    year = 2024;
    __bootstrap_print("Days in month for year ");
    __bootstrap_print_int(year);
    __bootstrap_print(":\n");
    {
        size_t __for_idx_1 = 1;
        size_t __for_len_1 = 13;
        while (__for_idx_1 < __for_len_1) {
            unsigned int m = __for_idx_1;
{
                unsigned char month;
                unsigned char days;
                month = __bootstrap_u8_from_usize(m);
                days = daysInMonth(month, year);
                __bootstrap_print("  Month ");
                __bootstrap_print_int(month);
                __bootstrap_print(": ");
                __bootstrap_print_int(days);
                __bootstrap_print(" days\n");
            }
            __for_idx_1++;
        }
    }
}
