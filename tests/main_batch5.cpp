#include "test_declarations.hpp"
#include "test_runner_main.hpp"

int main(int argc, char* argv[]) {
    bool (*tests[])() = {
        test_TypeChecker_StructDeclaration_Valid,
        test_TypeChecker_StructDeclaration_DuplicateField,
        test_TypeChecker_StructInitialization_Valid,
        test_TypeChecker_MemberAccess_Valid,
        test_TypeChecker_MemberAccess_InvalidField,
        test_TypeChecker_StructInitialization_MissingField,
        test_TypeChecker_StructInitialization_ExtraField,
        test_TypeChecker_StructInitialization_TypeMismatch,
        test_TypeChecker_StructLayout_Verification,
        test_TypeChecker_UnionDeclaration_DuplicateField,
        test_TypeCheckerEnum_MemberAccess,
        test_TypeCheckerEnum_InvalidMemberAccess,
        test_TypeCheckerEnum_ImplicitConversion,
        test_TypeCheckerEnum_Switch,
        test_TypeCheckerEnum_DuplicateMember,
        test_TypeCheckerEnum_AutoIncrement,
        test_C89Rejection_ErrorUnionType_FnReturn,
        test_C89Rejection_OptionalType_VarDecl,
        test_C89Rejection_ErrorUnionType_Param,
        test_C89Rejection_ErrorUnionType_StructField,
        test_C89Rejection_NestedErrorUnionType,
        test_Task136_ErrorSet_Catalogue,
        test_Task136_ErrorSet_Rejection,
        test_Task136_ErrorSetMerge_Rejection,
        test_Task136_Import_Rejection,
        test_C89Rejection_ExplicitGeneric,
        test_C89Rejection_ImplicitGeneric,
        test_GenericCatalogue_TracksExplicit,
        test_GenericCatalogue_TracksImplicit,
        test_C89Rejection_ComptimeValueParam,
        test_GenericCatalogue_Deduplication,
        test_Task155_AllTemplateFormsDetectedAndRejected,
        test_Task155_TypeParamRejected,
        test_Task155_AnytypeParamRejected,
        test_Task142_ErrorFunctionDetection,
        test_Task142_ErrorFunctionRejection,
        test_Task143_TryExpressionDetection_Contexts,
        test_Task143_TryExpressionDetection_Nested,
        test_Task143_TryExpressionDetection_MultipleInStatement,
        test_CatchExpressionCatalogue_Basic,
        test_CatchExpressionCatalogue_Chaining,
        test_OrelseExpressionCatalogue_Basic,
        test_Task144_CatchExpressionDetection_Basic,
        test_Task144_CatchExpressionDetection_Chained,
        test_Task144_OrelseExpressionDetection,
        test_TypeChecker_VarDecl_Inferred_Crash,
        test_TypeChecker_VarDecl_Inferred_Loop,
        test_TypeChecker_VarDecl_Inferred_Multiple,
        test_C89Rejection_NestedTryInMemberAccess,
        test_C89Rejection_NestedTryInStructInitializer,
        test_C89Rejection_NestedTryInArrayAccess,
        test_ExtractionAnalysis_StackStrategy,
        test_ExtractionAnalysis_ArenaStrategy_LargePayload,
        test_ExtractionAnalysis_ArenaStrategy_DeepNesting,
        test_ExtractionAnalysis_OutParamStrategy,
        test_ExtractionAnalysis_ArenaStrategy_Alignment,
        test_ExtractionAnalysis_Linking,
        test_Task147_ErrDeferRejection,
        test_Task147_AnyErrorRejection,
        test_Task148_PatternGeneration_StructReturn,
        test_Task148_PatternGeneration_OutParameter,
        test_Task148_PatternGeneration_Arena,
        test_Task149_ErrorHandlingFeaturesCatalogued,
        test_Task150_ErrorTypeEliminatedFromFinalTypeSystem,
        test_C89Rejection_GenericFnDecl_ShouldBeRejected,
        test_C89Rejection_DeferAndErrDefer,
        test_C89Rejection_ErrorTypeInParam_ShouldBeRejected,
        test_Task150_MoreComprehensiveElimination,
        test_C89Rejection_ArraySliceExpression,
        test_Task151_ErrorTypeRejection,
        test_Task151_OptionalTypeRejection,
        test_FunctionNameCollisionSameScope,
        test_FunctionVariableCollisionSameScope,
        test_ShadowingAllowed,
        test_SignatureAnalysisNonC89Types,
        test_SignatureAnalysisTooManyParams,
        test_SignatureAnalysisMultiLevelPointers,
        test_SignatureAnalysisTypeAliasResolution,
        test_SignatureAnalysisArrayParameterWarning,
        test_SignatureAnalysisReturnTypeRejection
    };

    return run_batch(argc, argv, tests, sizeof(tests) / sizeof(tests[0]));
}
